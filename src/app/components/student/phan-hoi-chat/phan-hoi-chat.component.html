<mat-tab-group dynamicHeight>
  <mat-tab label="Phản hồi chat">
    <div class="form-box mat-elevation-z4">
      <form [formGroup]="phanHoiForm" (ngSubmit)="onSubmit()" class="form">
        <mat-form-field class="example-full-width" appearance="outline">
          <textarea
            matInput
            placeholder="Nhập thắc mắc của bạn ở đây..."
            formControlName="noiDung"
          ></textarea>
          <mat-error> Bạn chưa điền nội dung kìa!!! </mat-error>
        </mat-form-field>
        <div class="submit-button">
          <button mat-raised-button type="submit" color="submit">
            Gửi Phản Hồi
          </button>
        </div>
      </form>
    </div>
  </mat-tab>
  <mat-tab label="Danh sách phản hồi">
    <div class="table-box mat-elevation-z4">
      <mat-form-field appearance="outline" class="search-container">
        <mat-label>Tìm kiếm</mat-label>
        <input
          matInput
          placeholder="Nhập nội dung tìm kiếm..."
          [(ngModel)]="searchTerm"
          class="example-full-width"
        />
        <mat-icon (click)="onSearch()" matSuffix color="search"
          >search</mat-icon
        >
        <mat-icon (click)="refresh()" matSuffix color="search"
          >refresh</mat-icon
        >
      </mat-form-field>
      <table
        mat-table
        [dataSource]="danhSachPhanHoi"
        matSort
        class="mat-elevation-z8"
      >
        <ng-container matColumnDef="stt">
          <th mat-header-cell *matHeaderCellDef>STT</th>
          <td mat-cell *matCellDef="let i = index">{{ i + 1 }}</td>
        </ng-container>

        <ng-container matColumnDef="noiDung">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Nội Dung</th>
          <td mat-cell *matCellDef="let phanHoi">{{ phanHoi.noiDung }}</td>
        </ng-container>
        <ng-container matColumnDef="cauHoi">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Từ Khóa</th>
          <td mat-cell *matCellDef="let phanHoi">
            {{ phanHoi.cauHoi?.cauHoi }}
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
      <mat-paginator
        [length]="length || 0"
        [pageSize]="5"
        [pageSizeOptions]="[5, 10, 20]"
        showFirstLastButtons
      >
      </mat-paginator>
    </div>
  </mat-tab>
</mat-tab-group>
